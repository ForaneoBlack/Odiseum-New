<div class="container-fluid text-black mt-5 text-center">
    <h2 class="text-center">SOLICITUD DE REGISTROS</h2>
</div>

<div class="container">

    <br>

    <table class="table mt-3 table-hover table-striped">
        <thead style="background: #FFA084; color: white">
            <tr>
                <th scope="col" class="text-center">Fecha de registro</th>
                <th scope="col" class="text-center">RUC</th>
                <th scope="col" class="text-center">Empresa</th>
                <th scope="col" class="text-center">sol_detalleestado</th>
                <th scope="col" class="text-center">Observacion</th>
                <th scope="col" class="text-center">Detalle</th>
            </tr>
        </thead>

        <tbody>
            <tr class="text-center" *ngFor="let solicitudes of solicitud">
                <th scope="row">{{solicitudes.sol_fecharegistro}}</th>
                <td>{{solicitudes.idempresa.empruc}}</td>
                <td>{{solicitudes.idempresa.empnombre}}</td>
                <td>{{solicitudes.sol_estado}}</td>
                <td></td>

                <td style="text-align: center">
                    <button type="button" class="btn btn-info me-2" data-bs-toggle="modal"
                        data-bs-target="#detallesolicitud" (click)="abrirmodalDetalle(solicitudes)">Detalle</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<!-- Modal para detalle de solicitud -->
<div class="modal fade" id="detallesolicitud" tabindex="-1" aria-labelledby="agregar" aria-hidden="true"
    style="margin-left: -12%;">
    <div class="modal-dialog">
        <div class="modal-content" style="width: 150%">
            <div class="modal-header">
                <h1 class="modal-title fs-5">DETALLE DE SOLICITUD DE REGISTRO</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form class="form-control" #detalleSolicitud="ngForm">
                    <div class="row g-3">
                        <div class="col-sm">
                            <label for="ruc">RUC:</label>
                            <input type="number" class="form-control" placeholder="" id="ruc" name="ruc" disabled [(ngModel)]="solicitudes.idempresa.empruc">
                        </div>
                        <div class="col-sm">
                            <label for="fecha">Fecha:</label>
                            <input type="date" class="form-control" placeholder="" id="fecha" name="fecha" 
                            disabled [(ngModel)]="solicitudes.idempresa.empfecha">
                        </div>
                    </div>

                    <div class="row g-3">
                        <div class="col-sm">
                            <label for="rlegal">Representante Legal:</label>
                            <input type="text" class="form-control" placeholder="Nombre del Representante" id="rlegal"
                                name="rlegal" disabled [(ngModel)]="solicitudes.idempresa.emprepresentante">
                        </div>
                        <div class="col-sm">
                            <label for="email">Correo:</label>
                            <input type="mail" class="form-control" id="email" placeholder="ejemplo@correo.com"
                                name="email" disabled [(ngModel)]="solicitudes.idempresa.empcorreo">
                        </div>
                    </div>

                    <div class="row g-3">
                        <div class="col-sm">
                            <label for="comercial">Nombre Comercial:</label>
                            <input type="text" class="form-control" placeholder="Empresa XYZ" id="comercial"
                                name="comercial" disabled [(ngModel)]="solicitudes.idempresa.empnombre">
                        </div>
                        <div class="col-sm">
                            <div class="form-grow">
                                <label for="categoria" class="form-label">Categoría</label>
                                <select [compareWith]="compararcategoria" [(ngModel)]="solicitudes.idcatemp" name="categoria" id="categoria"
                                        class="form-control" required
                                        style="background: #D9D9D9;border-radius: 0px;">

                                    <option *ngFor="let categorias of categoria"
                                            [ngValue]="categorias">{{categorias.catnombre}}
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="row g-3">
                        <div class="col-sm">
                            <label for="social">Razon Social:</label>
                            <input type="text" class="form-control" placeholder="" id="social" name="social" disabled [(ngModel)]="solicitudes.idempresa.emprazon">
                        </div>
                        <div class="col-sm">
                            <div class="form-grow">
                                <label for="subcategoria">Subcategoría </label>
                                <select id="subcategoria" class="form-control">
                                    <option>Mecánica</option>
                                    <option>Latonería</option>
                                    <option>Comercio</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row g-3">
                        <div class="col-sm">
                            <label for="telefono">Telefono: </label>
                            <input type="number" class="form-control" id="telefono" name="telefono" disabled [(ngModel)]="solicitudes.idempresa.emptelefono">
                        </div>
                        <div class="col-sm">
                            <label for="direccion">Direccion:</label>
                            <input type="text" class="form-control" id="direccion" name="direccion" disabled [(ngModel)]="solicitudes.idempresa.empdireccion">
                        </div>
                    </div>
                    <div class="row g-3">
                        <div class="col-sm">
                            <label for="trabajadores">N Trabajadores:</label>
                            <input type="text" class="form-control" id="trabajadores" name="trabajadores" disabled [(ngModel)]="solicitudes.idempresa.empnumtrabajadores">
                        </div>
                        <div class="col-sm">
                            <label for="ingreso">Ingreso anual:</label>
                            <input type="number" class="form-control" id="ingreso" name="ingreso" disabled [(ngModel)]="solicitudes.idempresa.empingresoanual">
                        </div>
                    </div>
                    <div class="row g-3">
                        <div class="col-sm">
                            <label for="ciudad">Ciudad:</label>
                            <input type="text" class="form-control" id="ciudad" name="ciudad" disabled [(ngModel)]="solicitudes.idempresa.empciudad">
                        </div>
                        <div class="col-sm">
                            <label for="estado">Estado:</label>
                            <input type="text" class="form-control" id="estado" name="estado" disabled [(ngModel)]="solicitudes.idempresa.empestado">
                        </div>
                    </div>

                    <br>
                    <div class="col-sm">
                        <label for="ciudad">Observaciones:</label>
                        <input style="max-height: +20%" type="text" class="form-control" id="ciudad" name="ciudad">
                    </div>
                    <br>
                    <div class="mx-2 text-center ">
                        <button class="btn btn-success col-md-4">Aprobado</button>
                        <button class="btn btn-danger col-md-4 offset-md-1" type="button"
                            data-bs-dismiss="modal">Denegado</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>